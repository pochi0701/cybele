<!DOCTYPE html>
<html lang="ja" contenteditable="true">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <style>
        body {
            background-color: #EEFFFF;
        }
    </style>
    <script>
        var ik = 0;
        function init() {
            document.onkeydown = function (e) {
                ik = 1; if (event.ctrlKey) {
                    if (event.keyCode == 88) { event.keyCode = 0; document.execCommand('delete', false, null); return false; }
                    else if (event.keyCode == 66) { event.keyCode = 0; document.execCommand('bold', false, null); return false; }
                    else if (event.keyCode == 85) { event.keyCode = 0; document.execCommand('underline', false, null); return false; }
                    else if (event.keyCode == 73) { event.keyCode = 0; document.execCommand('italic', false, null); return false; }
                    else if (event.keyCode == 72) { event.keyCode = 0; document.execCommand('heading', false, 'h3'); return false; }
                    else if (event.keyCode == 75) { event.keyCode = 0; document.execCommand('insertHtml', false, window.getSelection().toString()); return false; }
                    else if (event.keyCode == 83) { ik = 0; }
                }
            }
            document.onkeypress = function (e) {
                ik = 1; if (e != null && (e.ctrlKey || e.metaKey)) {
                    if (e.which == 120) { document.execCommand('delete', false, null); return false; }
                    else if (e.which == 98) { document.execCommand('bold', false, null); return false; }
                    else if (e.which == 117) { document.execCommand('underline', false, null); return false; }
                    else if (e.which == 105) { document.execCommand('italic', false, null); return false; }
                    else if (e.which == 104) { document.execCommand('heading', false, 'h3'); return false; }
                    else if (e.which == 107) { document.execCommand('insertHtml', false, window.getSelection().toString()); return false; }
                    else if (e.which == 115) { ik = 0; }
                }
            }
        }
        window.onbeforeunload = function () { if (ik == 1) { return "保存されてません"; } }
    </script>
</head>
<body onload="init();">
    Usage:<br>
    &nbsp;^x:Delete<br>
    &nbsp;^b:Bold<br>
    &nbsp;^u:Underline<br>
    &nbsp;^i:Italic<br>
    &nbsp;^h:&lt;h3&gt;:<br>
    &nbsp;^k:Remove Tag:<br>
    &nbsp;^s:Save Document<br>
</body>
</html>